<div class="main-content">
    <div class="container-fluid">
        <div class="divclass">
          <div class="form-group">
            <table class="" [ngClass]="{'btnCenter': true}">
                <th>
                  <div class="row">
                    <div class="col-md-4">
                  <mat-form-field class="example-form-field">
                    <input matInput type="text" [(ngModel)]="value" (keyup)="applyFilter()" placeholder="Search here...">
                  </mat-form-field>
                    </div>
                    <div class="col-md-8 text-right">
                  <button class="btn btn-primary btn-outline-primary"  (click)="Open(content)" value="Add"><i class="material-icons">person_add</i><span>&nbsp;&nbsp;Add New</span></button>
                </div>
                  </div>
                </th>
            </table>
          </div>
          <div class="form-group example-container mat-elevation-z8">
            <mat-table mat-table [dataSource]="datasource" class="" matSort>
                <ng-container matColumnDef="Id" style="width:8%">
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> ID </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{row.doctorDisplayId}} </mat-cell>
                  <!-- <th mat-cell mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Doctor ID. </th>
                  <td *matCellDef="let element"> {{element.doctorDisplayId}} </td> -->
                </ng-container>  
                <ng-container matColumnDef="FullName">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Full Name </th>
                  <td mat-cell *matCellDef="let element"> {{element.firstName}}  {{element.lastName}}</td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> Full Name </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{row.firstName}}  {{row.lastName}} </mat-cell>
                </ng-container>  
                <ng-container matColumnDef="dob">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Date of Birth </th>
                  <td mat-cell *matCellDef="let element"> {{element.dob | date: 'dd-MM-yyyy'}} </td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> Date of Birth </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{row.dob | date: 'dd-MM-yyyy'}} </mat-cell>
                </ng-container>  
                <ng-container matColumnDef="EmailID">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> EmailID </th>
                  <td mat-cell *matCellDef="let element"> {{element.emailId}} </td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> Email Id </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{ row.emailId }} </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="Age">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Age </th>
                  <td mat-cell *matCellDef="let element"> {{element.age}} </td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> Age </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{ row.age }} </mat-cell>
                </ng-container>  
                <ng-container matColumnDef="Gender">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Gender </th>
                  <td mat-cell *matCellDef="let element"> {{element.gender=='M' ? 'Male': element.gender=='F'?'Female':'Other'}} </td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header class=""> Gender </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{ row.gender=='M' ? 'Male' : row.gender=='F'? 'Female': 'Other' }} </mat-cell>
                </ng-container>  
                <!-- <ng-container matColumnDef="Specialties">
                  <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Specialties </th>
                  <td mat-cell *matCellDef="let element"> {{element.Specialties}} </td>
                </ng-container>-->
                <ng-container matColumnDef="Status">
                  <!-- <th mat-header-cell *matHeaderCellDef [ngClass]="{'fontSizeBold': true}"> Status </th>
                  <td mat-cell *matCellDef="let element"> {{element.isActive == true? 'Active': 'Inactive' }} </td> -->
                  <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
                  <mat-cell *matCellDef="let row"> {{ row.isActive == true? 'Active': 'Inactive' }} </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="Blocked_Unblocked">
                  <mat-header-cell *matHeaderCellDef mat-sort-header> Is Locked </mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.Blocked_Unblocked}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="View_Edit_Delete" style="min-width: fit-content;">
                  <mat-header-cell *matHeaderCellDef mat-sort-header> Actions </mat-header-cell>
                  <mat-cell *matCellDef="let element">
                      <button class="btn btn-outline-primary" (click)="Open(Viewcontent,element.id)"  title="View"><mat-icon>visibility</mat-icon></button>
                      <button class="btn btn-outline-primary" (click)="Editopen(Editcontent,element.id )"   title="Edit"><mat-icon>edit</mat-icon></button>
                      <button class="btn btn-outline-primary" (click)="Deleteopen(Deletecontent,element.id )" title="Delete"><mat-icon>delete</mat-icon></button>
                  </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
              </mat-table>
            </div>   
            <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]" style="color: #0047AB; font-size: small;">
            </mat-paginator>
        </div>
        
        
        <div class="modal modal-angular fade" id="viewM" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" *ngIf="UserData">
          <div class="modal-dialog" role="document" >
              <div class="modal-content">
                  <div class="modal-body text-center">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <form >    
                        <div class="main main-raised" >
                          <div class="profile-content">
                            <div class="container">
                              <div class="row">
                                <div class="col-md-12 ml-auto mr-auto">
                                  <div class="profile" >
                                    <div class="avatar avatar1" style="text-align: center;float: none;">
                                      <img src="../../../assets/img/UserProfileIcon.webp" alt="Circle Image" class="img-raised rounded-circle" [ngClass]="{'person_pin': true}">
                                    </div>
                                    <div class="avatar avatar2" style="width:100%">
                                      <table style="margin:auto;border-collapse: collapse; width: 100%;" [ngClass]="{'ViewPoptable': true}">
                                        <tr>
                                          <th class="wd27">Name</th>
                                          <th class="wd73"><h4 class="title">{{UserData.firstName}} {{UserData.lastName}}</h4></th>                          
                                        </tr>
                                        <tr>
                                          <th>Specialties</th>
                                          <td><h4>{{UserData.Specialties==null?'Surgeon':UserData.Specialties}}</h4></td>
                                        </tr>
                                        </table>
                                    </div>                   
                                  </div>
                                  <div class="name">                      
                                    <!-- <hr/> -->
                                    <table class="table table-hover" style="font-family: arial, sans-serif;border-collapse: collapse; width: 100%;" [ngClass]="{'ViewPoptable': true}">
                                      <tr>
                                        <td>Date of Birth</td>
                                        <td>{{UserData.dob | date:'dd-MM-yyyy'}}</td>                          
                                      </tr>
                                      <tr>
                                        <td>Email Id</td>
                                        <td>{{UserData.emailId}}</td>
                                      </tr>
                                      <tr>
                                        <td>Status</td>
                                        <td>{{UserData.Status==null?'Active':'Inactive'}}</td>
                                      </tr>                        
                                    </table>                    
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                    </form>
                    </div>
              </div>
          </div>
        </div>
        <div class="modalTagReg">
          
          <ng-template #content let-c="close" let-d="dismiss" >    
              <div class="modal-body" >
              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times; &nbsp;</span>
              </button>
              <app-register (parentFun)="receiveMessage()" [userrole]="Doctor" ></app-register>
             </div> 
          </ng-template>
          <!-- Register PopUp -->
        
         <!-- View By ID PopUp -->
         <ng-template #Viewcontent let-modal>
          <div class="modal-header" *ngIf="UserData" style="text-align: center !important">
            <div class="row" style="width: 100%;">
              <div class="col"></div>
              <div class="col text-center"><h3 >User id:  {{UserData.doctorDisplayId}} </h3></div>
              <div class="col">
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
              <span aria-hidden="true">&times;</span></button>
            </div>
          </div>
            
          </div>
          <div class="modal-body" *ngIf="UserData">
            <!-- <h2 style="text-align: center;">User id:  {{UserData.id}} </h2> -->
              <form >    
                <div class="main main-raised" >
                  <div class="profile-content">
                    <div class="container">
                      <div class="row">
                        <div class="col-md-12 ml-auto mr-auto">
                          <div class="profile" >
                            <div class="avatar avatar1" style="text-align: center;float: none;">
                              <img src="../../../assets/img/UserProfileIcon.webp" alt="Circle Image" class="img-raised rounded-circle" [ngClass]="{'person_pin': true}">
                            </div>
                            <div class="avatar avatar2" style="width:100%">
                              <table style="margin:auto;border-collapse: collapse; width: 100%;" [ngClass]="{'ViewPoptable': true}">
                                
                                </table>
                            </div>                   
                          </div>
                          <div class="name" >                      
                            <!-- <hr/> -->
                            <table class="table table-hover" style="font-family: arial, sans-serif;border-collapse: collapse; width: 100%;" [ngClass]="{'ViewPoptable': true}">
                              <tr>
                                <th >Name</th>
                                <th ><h4> {{UserData.firstName}} {{UserData.lastName}}</h4></th>                          
                              </tr>
                              <tr>
                                <th>Specialties</th>
                                <td><h4>{{UserData.Specialties==null?'Surgeon':UserData.Specialties}}</h4></td>
                              </tr>
                              <tr>
                                <td>Date of Birth</td>
                                <td>{{UserData.dob | date:'dd-MM-yyyy'}}</td>                          
                              </tr>
                              <tr>
                                <td>Email Id</td>
                                <td>{{UserData.emailId}}</td>
                              </tr>
                              <tr>
                                <td>Status</td>
                                <td>{{UserData.Status==null?'Active':'Inactive'}}</td>
                              </tr>                        
                            </table>                    
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            </form>
          </div>
          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-outline" (click)="modal.close('Save click')">Save</button> -->
          </div>
        </ng-template>
          <!-- View By ID PopUp -->
        
          <!-- Edit By ID PopUp -->  
          <ng-template #Editcontent let-c="close" let-d="dismiss" >    
            <div class="modal-body" >
              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times; &nbsp;</span>
              </button>
              <app-register (parentFun)="receiveMessage()" [drId]="DrIdToUpdate" [userData]="UserData"></app-register>
             </div> 
          </ng-template>
          <!-- Edit By ID PopUp -->
        
           <!-- Delete By ID PopUp -->  
          <ng-template #Deletecontent let-modal>
            <div class="modal-header" *ngIf="UserData">
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" >
              <h3>Are you sure you want to delete the user:</h3> <h4><b>{{UserData.firstName}} {{UserData.lastName}}</b></h4>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-primary" (click)="SoftDeleteDoctorData(item.id)" title="Delete">Delete</button>
              <button type="button" class="btn btn-outline-primary" (click)="modal.close('Save click')" title="Cancel">Cancel</button>
            </div>
            </div>
          </ng-template>

        </div>
    </div>
</div>